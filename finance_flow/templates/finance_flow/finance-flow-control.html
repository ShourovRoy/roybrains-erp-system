{% extends 'base.html' %}

{% block content %}
<section class="py-4 bg-dark text-light min-vh-100">
    <div class="container">
        <div class="row mb-4 align-items-center">
            <div class="col-8">
                <h3 class="fw-bold text-white mb-0">Financial Control Panel</h3>
                <p class="text-secondary small mb-0">Manage ledger flows and account movements</p>
            </div>
            <div class="col-4 text-end">
                <i class="bi bi-shield-lock fs-4 text-primary opacity-25"></i>
            </div>
        </div>

        <div class="row justify-content-start">
            <div class="col-md-6 col-lg-5">
                <div class="card bg-body-tertiary border-0 shadow-sm">
                    <div class="card-body p-3">
                        <label class="x-small-label text-secondary text-uppercase mb-2 d-block">Account Search</label>
                        
                        <div class="input-group">
                            <span class="input-group-text bg-dark border-secondary border-opacity-25 text-secondary">
                                <i class="bi bi-search small"></i>
                            </span>
                            <input 
                                id="finance-search"
                                type="search" 
                                name="search_query" 
                                class="form-control form-control-sm bg-dark text-white border-secondary border-opacity-25" 
                                placeholder="Name, ID, or phone..." 
                                autocomplete="off"
                                hx-get="{% url 'finance-flow-search' %}" 
                                hx-trigger="keyup changed delay:500ms" 
                                hx-target="#toitoi"
                                autofocus
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <hr class="my-4 border-secondary border-opacity-10">

        <div id="toitoi" class="results-container">
            <div class="text-center py-5 opacity-25">
                <i class="bi bi-person-search fs-1 d-block mb-2"></i>
                <p class="small text-uppercase tracking-widest">Select an account to proceed</p>
            </div>
        </div>
    </div>
</section>

<style>
    .bg-body-tertiary { background-color: #2b3035 !important; }
    .x-small-label { font-size: 0.65rem; font-weight: 800; letter-spacing: 0.5px; }
    .tracking-widest { letter-spacing: 2px; }

    /* Shrink the input size to match professional ERP density */
    #finance-search {
        font-size: 0.9rem;
        padding: 0.5rem 0.75rem;
        border-left: none !important;
    }

    .input-group-text {
        border-right: none !important;
        padding: 0.5rem 0.75rem;
    }

    #finance-search:focus {
        background-color: #1a1d20 !important;
        border-color: #0d6efd !important;
        box-shadow: none; /* Removed glow for a flatter, cleaner look */
    }

    .card {
        border-radius: 10px;
    }

    /* Keep the results transition smooth */
    #toitoi {
        transition: all 0.2s ease;
    }
</style>
{% endblock content %}